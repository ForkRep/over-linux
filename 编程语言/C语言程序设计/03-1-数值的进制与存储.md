## 一 进制

#### 1.1 二进制与位、字节

对于任何一种进制—X进制，就表示某一位置上的数运算时是逢X进一位。 

二进制是计算机中的数据存储格式，只有0和1两种数据的组合形式。  

字节与位是不同的概念：
- 位（bit）：一个二进制代表一个位，一个位只能使用0或者1两种状态，常用表示单位为bit，如1b=1位，1Kb=1024位
- 字节（Byte）：字节是计算机最小存储单位，一个字节是8个二进制，即8位，如1B=1Byte=8位，1KB=1024Byte

十进制转化二进制的方法：用十进制数除以2，分别取余数和商数，商数为0的时候，将余数倒着数就是转化后的结果。  
![](../images/c/03-01.png)  

十进制的小数转换成二进制：小数部分和2相乘，取整数，不足1取0，每次相乘都是小数部分，顺序看取整后的数就是转化后的结果。  
![](../images/c/03-02.png)  

#### 1.2 八进制

八进制：逢8进一，使用0-7这8个数字表示。  
- 十进制转化八进制：用十进制数除以8，分别取余数和商数，商数为0的时候，将余数倒着数就是转化后的结果。
- 八进制与二进制转换：八进制的数和二进制数可以按位对应（八进制一位对应二进制三位），转换方式如下图：
![](../images/c/03-03.png) 

#### 1.3 十六进制

十六进制（Hexadecimal）：由0-9，A-F组成，字母不区分大小写。与10进制的对应关系是：0-9对应0-9，A-F对应10-15。十六进制一位对应二进制四位。   

![](../images/c/03-04.png) 

十进制转化十六进制的方法：用十进制数除以16，分别取余数和商数，商数为0的时候，将余数倒着数就是转化后的结果。

#### 1.4 C语言中的进制

C语言中进制的表示
- 十进制：	以正常数字1-9开头，如123
- 八进制：	以数字0开头，如0123
- 十六进制：以0x开头，如0x123
- 二进制：	C语言不能直接书写二进制数

```c
	int a = 123;		//十进制方式赋值
	int b = 0123;		//八进制方式赋值， 以数字0开头
	int c = 0xABC;	//十六进制方式赋值

	//如果在printf中输出一个十进制数那么用%d，八进制用%o，十六进制是%x
	printf("十进制：%d\n",a );
	printf("八进制：%o\n", b);
	printf("十六进制：%x\n", c);
```

#### 1.3 计算机内设置存储方式

当前的计算机系统使用的基本上是二进制系统，数据在计算机中主要是以补码的形式存储的。

## 二 数值在计算机中的存储

#### 2.1 计算机中的原码、反码、补码

正数示例：
```
# 十进制中的 1 在原码中的表示  正数的三码一致
原码：0000 0001
反码：0000 0001
补码：0000 0001
```

负数示例：
```
# 十进制的 -15 在原码中的表示
原码：1000 1111					# 第一位1代码符号位
反码：1111 0000					# 除符号位外，其他取反
补码：1111 0001					# 反码+1    
```

#### 2.1 原码

原码理解：
- 最高位做为符号位，0表示正,为1表示负
- 其它数值部分就是数值本身绝对值的二进制数
- 负数的原码是在其绝对值的基础上，最高位变为1

原码不利于计算，因为：当两个正数相减或不同符号数相加时，必须比较两个数哪个绝对值大。   

#### 2.2 反码（complement）

反码理解：
- 对于正数，反码与原码相同
- 对于负数，符号位不变，其它部分取反(1变0,0变1)

反码用于计算的中间过渡。  

#### 2.3 补码

补码理解：
- 对于正数，原码、反码、补码相同
- 对于负数，符号位不动，其他位求反后，整个数值+1（即补反码加1）

**计算机中的数值都是以补码形式存在**   

对应0来说，理论上也应该有+0和-0，那么其原码、反码都会两种表现形式。但是+0和-0的补码形式如下：
```
+0补码： 0000 0000
-0补码： 1000 0000		# 由于只用8位描述，最高位1丢弃，变为0000 0000
```

使用补码计算 9 + (6)：
```
9	0000 1001
-6	1111 1010
```
相加结果最高位会溢出，舍弃即可，剩余8位为：`0000 0011`，结果为3。 

在计算机系统中，数值一律用补码来存储，主要原因是：
- 统一了零的编码
- 将符号位和其它位统一处理
- 将减法运算转变为加法运算
- 两个用补码表示的数相加时，如果最高位(符号位)有进位，则进位被舍弃

## 三 数值溢出

当超过一个数据类型能够存放最大的范围时，数值会溢出。  

有符号位最高位溢出的区别：符号位溢出会导致数的正负发生改变，但最高位的溢出会导致最高位丢失。  

比如数据类型char，只占用1个字节，即8位，只能表示 -128($-2^7$) - 127（$2^7-1$）。   

```c
#include <stdio.h>

int main(){

	char ch;

	//符号位溢出会导致数的正负发生改变
	ch = 0x7f + 2; 					//127+2
	printf("%d\n", ch);

	return 0;
}
```


